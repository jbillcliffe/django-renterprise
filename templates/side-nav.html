<ul class="nav flex-column">
	{% with request.resolver_match.url_name as url_name %}
	<li class="nav-item">
		<a href="{% url 'menu:menu' %}" target="_self"
		class="side-bar nav-link">
		<i class="fa-solid fa-house" style="padding: 0.5rem;"></i> Home
		</a>
	</li>
	{% if '/items/' in request.path %}
	<li class="nav-item">
		<a id="item_list" href="{% url 'items:item_list' %}" 
		class="side-bar nav-link {% if url_name == 'item_list' %}active{% endif %}">
		<i class="fa-solid fa-table-list" style="padding: 0.5rem;"></i> Item List
		</a>
	</li>
		<!--url ends at .com/items/ (Item List)-->
		{% if request.path == '/items/create/' or request.path == '/items/' %} 
		<li class="nav-item">
			<a id="item_create" href="{% url 'items:item_create' %}" 
			class="side-bar nav-link {% if url_name == 'item_create' %}active{% endif %}">
			<i class="fa-regular fa-square-plus" style="padding: 0.5rem;"></i> New Item
			</a>
		</li>
		{% endif %}
		{% if request.path == '/items/create/item_type/' or request.path == '/items/' %}
		<li class="nav-item">
			<a id="item_type_create" href="{% url 'items:item_type_create' %}" 
			class="side-bar nav-link {% if url_name == 'item_type_create' %}active{% endif %}">
			<i class="fa-regular fa-square-plus" style="padding: 0.5rem;"></i> New Item Type
			</a>
		</li>
		{% endif %}
		{% if url_name == 'item_view' %}
			{% if perms.items %}
				<hr style="color:black;">
				<li class="nav-item">
					<a class="side-bar nav-link display-only">
						Change Item Status </a>
				</li>
				<!--available-->
				{% for key, value in item.STATUS %}	
					{% if key|add:"0" != item.status|add:"0" %}
					<li class="nav-option">
						<a class="status_button {{ value | lower }}" status_value="{{ key }}" item_id="{{ item.id }}" 
						modal_inner_text="{{ value }}">{{ value }}</a>
					</li>
					{% endif %}
				{% endfor %}
			{% endif %}
		{% endif %}
	{% elif '/customers/' in request.path %}
		<!--url ends at .com/customers/ (Customer List)-->
		{% if request.path == '/customers/' or request.path == '/customers/create/' %} 
		<li class="nav-item">
			<a id="customer_create" href="{% url 'customers:customer_create' %}" 
			class="side-bar nav-link {% if url_name == 'customer_create' %}active{% endif %}">
				<i class="fa-solid fa-user-plus" style="padding: 0.5rem;"></i> New Customer
			</a>
		</li>
		{% endif %}
		<li class="nav-item">
			<a id="customer_list" href="{% url 'customers:customer_list' %}" 
			class="side-bar nav-link {% if url_name == 'customer_list' %}active{% endif %}">
			<i class="fa-solid fa-table-list" style="padding: 0.5rem;"></i> Customer List
			</a>
		</li>
		
		{% if customer.full_name %}
			<!-- have customer name for display purposes-->
			<hr style="color:black;">
			<li class="nav-item">
				<a class="side-bar nav-link display-only {% if url_name == 'customer_view' %}active{% endif %}">
					<i class="fa-solid fa-image-portrait" 
					style="padding: 0.5rem;"></i>{{ customer.full_name }}</a>
			</li>
		{% elif customer_token_value %}
			<hr style="color:black;">
			<li class="nav-item">
				<a class="side-bar nav-link display-only {% if url_name == 'customer_view' %}active{% endif %}">
					<i class="fa-solid fa-image-portrait" 
					style="padding: 0.5rem;"></i>{{ full_name }}</a>
			</li>
		{% endif %}

		{% if url_name == 'customer_order_list' %}
			<hr style="color:black;">
			<li class="nav-item">
				<a id="customer_order_list" href="#" 
				class="side-bar nav-link active">
					<i class="fa-solid fa-folder-tree" style="padding: 0.5rem;"></i> Customer Orders
				</a>
			</li>
			<li class="nav-item">
				<a id="order_create" href="{% url 'orders:order_create' customer_token_value %}" 
				class="side-bar nav-link">
					<i class="fa-solid fa-folder-plus" style="padding: 0.5rem;"></i> New Order
				</a>
			</li>
			
		{% elif url_name == 'customer_view' %}
			<!-- Notes, Order List, New Order-->
			<li class="nav-item">
				<a id="customer_notes_list_id" href="{% url 'customers:customer_notes_list' customer_token_value %}" 
				class="side-bar nav-link">
				<i class="fa-solid fa-comments" style="padding: 0.5rem;"></i> Customer Notes
				</a>
			</li>
			<hr style="color:black;">
			<li class="nav-item">
				<a id="customer_order_list" href="{% url 'customers:customer_order_list' customer.customer_token %}" 
				class="side-bar nav-link">
				<i class="fa-solid fa-folder-tree" style="padding: 0.5rem;"></i> Customer Orders
				</a>
			</li>
			<li class="nav-item">
				<a id="order_create" href="{% url 'orders:order_create' customer_token_value %}"
				class="side-bar nav-link">
					<i class="fa-solid fa-folder-plus" style="padding: 0.5rem;"></i> New Order
				</a>
			</li>
			{% if perms.items %}
				<hr style="color:black;">
				<li class="nav-item">
					<a class="side-bar nav-link display-only">
						Customer Status </a>
				</li>
				<!--available-->
				{% for key, value in customer.STATUS %}	
					{% if key|add:"0" != customer.status|add:"0" %}
					<li class="nav-option">
						<a class="status_button {{ value | lower }}" status_value="{{ key }}" item_id="{{ item.id }}" 
						modal_inner_text="{{ value }}">{{ value }}</a>
					</li>
					{% endif %}
				{% endfor %}
			{% endif %}

		{% elif url_name == 'customer_notes_list' or url_name == 'customer_add_notes' %}
			<li class="nav-item">
				<a id="customer_notes_list" href="{% url 'customers:customer_notes_list' customer_token_value %}" 
				class="side-bar nav-link {% if url_name == 'customer_notes_list' %}active{% endif %}">
				<i class="fa-solid fa-comments" style="padding: 0.5rem;"></i> Customer Notes
				</a>
			</li>
			<li class="nav-item">
				<a id="customer_add_notes_id"
				href="{% url 'customers:customer_add_notes' customer_token_value %}" 
				class="side-bar nav-link {% if url_name == 'customer_add_notes' %}active{% endif %}">
				<i class="fa-solid fa-comment-medical" style="padding: 0.5rem;"></i> Add Customer Note
				</a>
			</li>

		{% elif url_name == 'customer_order_view' %}
			<li class="nav-item">
				<a class="side-bar nav-link display-only active">
					<i class="fa-regular fa-folder-open" style="padding: 0.5rem;"></i>Order No. {{ customer_order_id }}
				</a>
			</li>
			<li class="nav-item">
				<a id="customer_order_note_list" 
				href="{% url 'customers:order_notes_list' customer_token=customer_token_value order_id=customer_order_id %}" 
				class="side-bar nav-link {% if url_name == 'order_notes_list' %}active{% endif %}">
				<i class="fa-solid fa-comments" style="padding: 0.5rem;"></i> Order Notes
				</a>
			</li>
			<hr style="color:black;">
			<li class="nav-item">
				<a id="customer_order_list" href="{% url 'customers:customer_order_list' customer_token_value %}" 
				class="side-bar nav-link {% if url_name == 'customer_order_list' %}active{% endif %}">
				<i class="fa-solid fa-folder-tree" style="padding: 0.5rem;"></i> Customer Orders
				</a>
			</li>
		{% elif url_name == 'order_notes_list' or url_name == 'order_view_notes' or url_name == 'add_order_notes'%}
			<li class="nav-item">
				<a class="side-bar nav-link display-only">
					<i class="fa-regular fa-folder-open" style="padding: 0.5rem;"></i>Order No. {{ customer_order_id }}
				</a>
			</li>
			<li class="nav-item">
				<a id="customer_order_note_list" 
				href="{% url 'customers:order_notes_list' customer_token=customer_token_value order_id=customer_order_id %}" 
				class="side-bar nav-link {% if url_name == 'order_notes_list' %}active{% endif %}">
				<i class="fa-solid fa-comments" style="padding: 0.5rem;"></i> Order Notes
				</a>
			</li>
			<li class="nav-item">
				<a id="customer_order_note_add"
				href="{% url 'customers:add_order_notes' customer_token=customer_token_value order_id=customer_order_id %}" 
				class="side-bar nav-link {% if url_name == 'add_order_notes' %}active{% endif %}">
				<i class="fa-solid fa-comment-medical" style="padding: 0.5rem;"></i> Add Order Note
				</a>
			</li>
		{% else %}
		{% endif %}
	{% elif '/orders' and not '/customers' in request.path %}
	<li class="nav-item">
		<a id="order_list" href="#" 
		class="side-bar nav-link {% if url_name == 'order_list' %}active{% endif %}">
			<i class="fa-solid fa-folder-tree" style="padding: 0.5rem;"></i> Order List
		</a>
	</li> 
	{% else %}
	<li></li>
	{% endif %}
	{% endwith %}
</ul>